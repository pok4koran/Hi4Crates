<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib uri="http://www.springframework.org/security/tags" prefix="sec"%>

<div class="page">

	<!-- 본문 시작 -->
	<!-- Start::app-content -->
	<div class="main-content app-content">
		<div class="container-fluid">

			<div class="card custom-card">

				<div class="card-header">
					<!-- 페이지 헤더 -->
					<!-- Page Header -->
					<div
						class="d-md-flex d-block align-items-center justify-content-between my-4 page-header-breadcrumb">
						<h1 class="page-title fw-semibold fs-18 mb-0">공지사항</h1>
						<div style="margin-right:10px;">&nbsp;</div>
						<div class="ms-md-1 ms-0">
							<nav>
								<ol class="breadcrumb mb-0">
									<li class="breadcrumb-item"><a href="javascript:void(0);">Home</a></li>
									<li class="breadcrumb-item active" aria-current="page">Notice</li>
								</ol>
							</nav>
						</div>
					</div>
					<!-- Page Header Close -->
					<!-- 페이지 헤더 끝 -->
				</div>
				<!-- card-header 끝 -->

				<!-- 본문의 본문 -->
				<!-- Start::row-1 -->
				<div class="card-body">
					<div class="row">
						<div class="table-responsive">
							<table class="table text-nowrap table-sm"
								style="text-align: center;">
								<thead>
									<tr>
										<th scope="col" class="col-sm-1">No.</th>
										<th scope="col">Title</th>
<!-- 										<th scope="col" class="col-sm-2">Name</th> -->
										<th scope="col" class="col-sm-2">Date</th>
										<th scope="col" class="col-sm-1">Views</th>
									</tr>
								</thead>
								<tbody>
									<c:set value="${pagingVO.dataList }" var="patntNoticeList" />
									<c:choose>
										<c:when test="${empty patntNoticeList }">
											<tr>
												<td colspan="5">공지사항이 없습니다.</td>
											</tr>
										</c:when>
										<c:otherwise>
											<c:forEach items="${patntNoticeList }" var="notice" varStatus="status">
												<tr>
													<th scope="row">${notice.patntNoticeNo }</th>
													<td>
														<!-- 상세보기 링크 -->
<%-- 															<a href="/patnt/notice/detail?patntNoticeNo=${notice.patntNoticeNo }" --%>
														<a href="#">
															${notice.patntNoticeTitle}
														</a>
													</td>
<!-- 													<td> -->
<%-- 														<span class="badge bg-light text-dark">${notice.empNoticeWriter }</span> --%>
<!-- 													</td> -->
													<td>
														<fmt:parseDate value="${notice.patntNoticeDate }" var="dateValue" pattern="yyyy-MM-dd"/>
														<fmt:formatDate value="${dateValue }" pattern="yyyy-MM-dd"/>
													</td>
													<td>${notice.patntNoticeHit }</td>
												</tr>
											</c:forEach>
										</c:otherwise>
									</c:choose>
								</tbody>
							</table>
						</div> <!-- table-responsive 끝 -->


					</div>


				</div> <!-- card-body 끝 -->
				<!--End::row-1 -->
				<!-- 본문의 본문 끝 -->

				<!-- footer 시작 -->
				<div class="card-footer">
				
					<!-- 기능 버튼 -->
					<div align="left" style="float:left;">
						<%-- <sec:authorize access="hasRole('ROLE_ADMIN')"> --%>
						<button class="btn btn-info" id="postBtn"
							onclick="location.href='/emp/notice/form'">등록</button>
<!-- 						<button id="wrtBtn" type="button" class="btn btn-info" -->
<!-- 							data-bs-toggle="modal" data-bs-target="#modalEdit">(modal)</button> -->
						<%-- </sec:authorize> --%>
						<button id="listBtn" class="btn btn-light"
							onclick="location.href='/emp/notice/list'">목록</button>
					</div>
					<!-- 기능 버튼 끝 -->

					<!-- 검색 공간 -->
					<div style="float:left;margin-left:10px;">
						<form class="row row-cols-lg-auto g-3 align-items-center"
							id="searchForm" method="post">
							<input type="hidden" name="page" id="page"/>
							<div class="input-group">
								<div class="col-3" style="margin-right:1px;">
									<label class="visually-hidden" for="searchType">검색 종류</label>
									<select class="form-select" id="searchType" name="searchType">
										<option value="title"
											<c:if test="${searchType eq 'title' }">selected</c:if>>제목</option>
										<option value="content"
											<c:if test="${searchType eq 'content' }">selected</c:if>>제목+내용</option>
										<option value="writer"
											<c:if test="${searchType eq 'writer' }">selected</c:if>>작성자</option>
									</select>
								</div>
								<div class="col-5" style="margin-right:1px;">
									<label class="visually-hidden"
										for="searchWord">검색</label>
									<input type="text" class="form-control"
										id="searchWord" name="searchWord" value="${searchWord }"
										placeholder="검색할 단어를 입력하세요">
								</div>

								<div class="col-4">
									<button type="submit" class="btn btn-info">
									<i class="fas fa-search"></i>검색</button>
								</div>
							</div>
						</form>
					</div>
					<!-- 검색 공간 끝 -->

					<!-- 페이징 -->
					<div align="right" style="float:right;">
						<div align="right" id="pagingArea">
							${pagingVO.pagingHTML }
						</div>
					</div>
					<!-- 페이징 끝 -->
				</div>
				<!-- footer 끝 -->

			</div> <!-- custom-card 끝 -->
		</div> <!-- container-fluid 끝 -->
	</div> <!-- main-content app-content 끝 -->
	<!-- End::app-content -->
	<!--본문 끝-->


</div>
<!-- page 끝 -->

<!-- Scroll To Top -->
<div class="scrollToTop">
	<span class="arrow"><i class="ri-arrow-up-s-fill fs-20"></i></span>
</div>
<div id="responsive-overlay"></div>
<!-- Scroll To Top -->

<script src="${pageContext.request.contextPath }/resources/js/empNoticePaging.js"></script>

<script type="text/javascript">


</script>
